<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Working with device data | </title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="In continuing my series on investigating bike data, I ran into some interesting aspects of working with device data.
I have some experience with devices, thanks to my many years of working in research labs. This post is about the fun of hunting down what&rsquo;s working and what&rsquo;s not.
Things to consider when working with devices

Are you using the device yourself?
Are you interacting with the user(s) (directly or indirectly)? Or not at all?
What is the device designed to do? Are you using it for its intended purpose?
How well does the device actually work? Generic measurables might include: sensitivity, specificity, accuracy, precision, battery life
What else is being measured?
Measured how?
How are data stored? How much data can it store? How does it connect to other devices/data stores?

In the case of a bike computer, I have been looking at:">
    <meta name="generator" content="Hugo 0.148.1">
    
    
    
      <meta name="robots" content="index, follow">
    
    <meta name="author" content="Samantha G. Zeitlin">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.8d048772ae72ab11245a0e296d1f2a36d3e3dd376c6c867394d6cc659c68fc37.css" >




    


    
      

    

    

    
      <link rel="canonical" href="https://szeitlin.github.io/posts/biking_data/device-data/">
    

    <meta property="og:url" content="https://szeitlin.github.io/posts/biking_data/device-data/">
  <meta property="og:title" content="Working with device data">
  <meta property="og:description" content="In continuing my series on investigating bike data, I ran into some interesting aspects of working with device data.
I have some experience with devices, thanks to my many years of working in research labs. This post is about the fun of hunting down what’s working and what’s not.
Things to consider when working with devices Are you using the device yourself? Are you interacting with the user(s) (directly or indirectly)? Or not at all? What is the device designed to do? Are you using it for its intended purpose? How well does the device actually work? Generic measurables might include: sensitivity, specificity, accuracy, precision, battery life What else is being measured? Measured how? How are data stored? How much data can it store? How does it connect to other devices/data stores? In the case of a bike computer, I have been looking at:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2015-04-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2015-04-30T00:00:00+00:00">
    <meta property="article:tag" content="Device Data">
    <meta property="article:tag" content="Bike Data">

  <meta itemprop="name" content="Working with device data">
  <meta itemprop="description" content="In continuing my series on investigating bike data, I ran into some interesting aspects of working with device data.
I have some experience with devices, thanks to my many years of working in research labs. This post is about the fun of hunting down what’s working and what’s not.
Things to consider when working with devices Are you using the device yourself? Are you interacting with the user(s) (directly or indirectly)? Or not at all? What is the device designed to do? Are you using it for its intended purpose? How well does the device actually work? Generic measurables might include: sensitivity, specificity, accuracy, precision, battery life What else is being measured? Measured how? How are data stored? How much data can it store? How does it connect to other devices/data stores? In the case of a bike computer, I have been looking at:">
  <meta itemprop="datePublished" content="2015-04-30T00:00:00+00:00">
  <meta itemprop="dateModified" content="2015-04-30T00:00:00+00:00">
  <meta itemprop="wordCount" content="714">
  <meta itemprop="keywords" content="Device Data,Bike Data">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Working with device data">
  <meta name="twitter:description" content="In continuing my series on investigating bike data, I ran into some interesting aspects of working with device data.
I have some experience with devices, thanks to my many years of working in research labs. This post is about the fun of hunting down what’s working and what’s not.
Things to consider when working with devices Are you using the device yourself? Are you interacting with the user(s) (directly or indirectly)? Or not at all? What is the device designed to do? Are you using it for its intended purpose? How well does the device actually work? Generic measurables might include: sensitivity, specificity, accuracy, precision, battery life What else is being measured? Measured how? How are data stored? How much data can it store? How does it connect to other devices/data stores? In the case of a bike computer, I have been looking at:">

      
    
	
  </head><body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l mw8 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Working with device data</h1>
      
      <p class="tracked"><strong>Samantha G. Zeitlin</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2015-04-30T00:00:00Z">April 30, 2015</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>In continuing my series on <a href="https://szeitlin.github.io/posts/biking_data/biking-data-from-xml-to-plots-revised/">investigating bike data</a>, I ran into some interesting aspects of working with device data.</p>
<p>I have some experience with devices, thanks to my many years of working in research labs. This post is about the fun of hunting down what&rsquo;s working and what&rsquo;s not.</p>
<h2 id="things-to-consider-when-working-with-devices">Things to consider when working with devices</h2>
<ol>
<li>Are you using the device yourself?</li>
<li>Are you interacting with the user(s) (directly or indirectly)? Or not at all?</li>
<li>What is the device <em>designed</em> to do? Are you using it for its intended purpose?</li>
<li>How well does the device actually work? Generic measurables might include: sensitivity, specificity, accuracy, precision, battery life</li>
<li>What else is being measured?</li>
<li>Measured how?</li>
<li>How are data stored? How much data can it store? How does it connect to other devices/data stores?</li>
</ol>
<p>In the case of a bike computer, I have been looking at:</p>
<p>Aggregated/cumulative (average speeds, calories) vs. realtime
• altitude • distance • speed • cadence •</p>
<p>Measured using: • internal clock • GPS • barometric pressure • cadence magnet •</p>
<hr>
<p>On the first pass through, I just looked at aggregated/cumulative values. More recently, I looked at the &lsquo;realtime&rsquo; data. This meant I had to re-do <a href="https://github.com/szeitlin/biking_data/blob/master/xml_feb26_2015.py">the script to parse the raw XML</a>, and it had to be even more robust, because the computer automatically deletes data to save space, but I wasn&rsquo;t sure whether that meant whole days went missing, or whole months, or just parts of trips.</p>
<p>The main advantage of parsing the raw data yourself is that you know your dataframe is going to be tidy.</p>
<hr>
<p>This time around, I had two years&rsquo; worth of data to compare, which made things a little more interesting.</p>
<p><img src="/site_media/media/e9189f583d5a1.png" alt="Screen Shot 2015-08-07 at 4.19.23 PM.png"></p>
<p>This file is a great example of how two distributions can be quite different in some aspects (bimodal in 2013, vs. almost gaussian in 2014), but the averages are quite similar, arguably not significantly different.</p>
<hr>
<h2 id="leverage-granularity-of-real-time-data-using-generators">Leverage granularity of real-time data using generators</h2>
<p>I wanted a pipeline to process the data into manageable units, for two purposes. (1) to make plots to look at the degree of variability, and (2) to feed into outside APIs, like Google Maps.</p>
<p>The <a href="https://github.com/szeitlin/biking_data/blob/master/14April_googlemaps_api.ipynb">code</a> structure looks like this:</p>
<p><strong>splitter</strong>: split altitudes by date
yield list of (distance, altitude)</p>
<p><strong>filter</strong>: check for sequential distances
(if distance goes down, something’s wrong)
yield filtered list of (distance, altitude)</p>
<p><strong>df_maker</strong>: call splitter and filter
convert to data frame
yield data frame</p>
<p><strong>plot_maker</strong>: call data frame maker
a whole series of plots!</p>
<hr>
<p><img src="/site_media/media/7621b7123d5c1.png" alt="Screen Shot 2015-08-07 at 4.30.48 PM.png"></p>
<p>Some of the plots looked fine, but many had varying degrees of inconsistent problems.</p>
<hr>
<h2 id="the-path-to-enlightenment-when-you-cant-walk-it-yourself">The path to enlightenment (when you can’t walk it yourself)</h2>
<p>Initially, I wanted to look at altitude over time, but I realized that datetime objects were adding unnecessary complexity. So instead I did distance vs. altitude, which revealed that the source of the noise seemed to be related to altitude.</p>
<p>When I find unexpectedly noisy data, I go through a checklist that looks something like this:</p>
<p>Possible sources of ‘noise’:</p>
<ol>
<li>
<p>developer error (parsing error? grouping wrong?)</p>
</li>
<li>
<p>device failure (sensor problems)</p>
</li>
<li>
<p>user error</p>
</li>
</ol>
<p>Unless the user tells me they know they always forget to turn the computer off when they get on Caltrain, or that they&rsquo;ve dropped it repeatedly from a great height, I look at other factors first. Namely, my own mistakes, the age of the device, other environmental issues (is it not waterproof enough? when was the last time it was out in the rain?).</p>
<hr>
<h2 id="when-in-doubt-validate-using-orthogonal-methods">When in doubt, validate using orthogonal methods</h2>
<p>I had been thinking about trying out the Google Maps API, and here was my perfect excuse.</p>
<p>There is a python wrapper for their REST (REpresentational State Transfer) API (Application Programming Interface). The python wrapper helps to construct the URL and submit the request, as well as helping to parse and display the response.</p>
<p>I ran into limits on the allowed length of the URL, though, because I was trying to submit entire paths of (lat,long) tuples from whole days worth of data. I realized I could shorten the request URL by simply removing duplicates from the paths, since the bike computer reports the location even if the altitude hasn&rsquo;t changed at all.</p>
<p><img src="/site_media/media/b1c1b7343d5e1.png" alt="Screen Shot 2015-08-07 at 4.47.05 PM.png"></p>
<p>I was relieved to see that although the bike computer seemed to be dying, it wasn&rsquo;t working too badly before it died.</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/tags/device-data/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Device Data</a>
   </li>
  
   <li class="list di">
     <a href="/tags/bike-data/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Bike Data</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="https://szeitlin.github.io/" >
    &copy; 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
