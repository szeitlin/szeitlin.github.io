<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Python OOP | </title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="I frequently hear Python referred to as a &lsquo;scripting&rsquo; language, because it&rsquo;s not compiled.
Unfortunately, for this reason, a lot of people seem to assume you can&rsquo;t write &lsquo;real&rsquo; programs with it.
This post is about moving beyond using Python as a scripting language. I&rsquo;m assuming you&rsquo;re already comfortable with
basic python data types and methods.
Note: Most of the content here is specific to Python 3. If you&rsquo;re just learning
Python now, don&rsquo;t learn Python 2, it&rsquo;s being deprecated and many current
libraries already stopped supporting it.">
    <meta name="generator" content="Hugo 0.148.1">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.8d048772ae72ab11245a0e296d1f2a36d3e3dd376c6c867394d6cc659c68fc37.css" >




    


    
      

    

    

    
      <link rel="canonical" href="https://szeitlin.github.io/posts/engineering/python_oop/">
    

    <meta property="og:url" content="https://szeitlin.github.io/posts/engineering/python_oop/">
  <meta property="og:title" content="Python OOP">
  <meta property="og:description" content="I frequently hear Python referred to as a ‘scripting’ language, because it’s not compiled. Unfortunately, for this reason, a lot of people seem to assume you can’t write ‘real’ programs with it. This post is about moving beyond using Python as a scripting language. I’m assuming you’re already comfortable with basic python data types and methods.
Note: Most of the content here is specific to Python 3. If you’re just learning Python now, don’t learn Python 2, it’s being deprecated and many current libraries already stopped supporting it.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-05-24T13:29:53-07:00">
    <meta property="article:modified_time" content="2019-05-24T13:29:53-07:00">

  <meta itemprop="name" content="Python OOP">
  <meta itemprop="description" content="I frequently hear Python referred to as a ‘scripting’ language, because it’s not compiled. Unfortunately, for this reason, a lot of people seem to assume you can’t write ‘real’ programs with it. This post is about moving beyond using Python as a scripting language. I’m assuming you’re already comfortable with basic python data types and methods.
Note: Most of the content here is specific to Python 3. If you’re just learning Python now, don’t learn Python 2, it’s being deprecated and many current libraries already stopped supporting it.">
  <meta itemprop="datePublished" content="2019-05-24T13:29:53-07:00">
  <meta itemprop="dateModified" content="2019-05-24T13:29:53-07:00">
  <meta itemprop="wordCount" content="1776">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Python OOP">
  <meta name="twitter:description" content="I frequently hear Python referred to as a ‘scripting’ language, because it’s not compiled. Unfortunately, for this reason, a lot of people seem to assume you can’t write ‘real’ programs with it. This post is about moving beyond using Python as a scripting language. I’m assuming you’re already comfortable with basic python data types and methods.
Note: Most of the content here is specific to Python 3. If you’re just learning Python now, don’t learn Python 2, it’s being deprecated and many current libraries already stopped supporting it.">

      
    
	
  </head><body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l mw8 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Python OOP</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2019-05-24T13:29:53-07:00">May 24, 2019</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>I frequently hear Python referred to as a &lsquo;scripting&rsquo; language, because it&rsquo;s not compiled.
Unfortunately, for this reason, a lot of people seem to assume you can&rsquo;t write &lsquo;real&rsquo; programs with it.
This post is about moving beyond using Python as a scripting language. I&rsquo;m assuming you&rsquo;re already comfortable with
basic python data types and methods.</p>
<p><em>Note: Most of the content here is specific to Python 3. If you&rsquo;re just learning
Python now, don&rsquo;t learn Python 2, it&rsquo;s being deprecated and many current
libraries already stopped supporting it.</em></p>
<h1 id="what-is-oop-and-why-you-should-learn-it">What is OOP and why you should learn it</h1>
<p>OOP stands for Object Oriented Programming. It&rsquo;s a way to create more structure in your code.
More structure means your code is easier to extend, and easier to test.</p>
<p>When I first started learning OOP, I found it kind of confusing, and since then I&rsquo;ve taught a few
other people how it works, but I never had great references or textbooks to use for reference. So I&rsquo;m
making my own.</p>
<hr>
<p>I&rsquo;m going to start with a very simple example, related to food. Let&rsquo;s start with dessert, because life is short.</p>
<h1 id="__init__"><code>__init__</code></h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sweets</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self):
</span></span></code></pre></div><p>Let&rsquo;s create a <em>class</em> to keep track of all the different kinds of
desserts we want to make. The class keyword in python is not capitalized, but the name of the class is.</p>
<p>A class name is a noun, and usually something that refers to a group, or
something that can be grouped. For example, you could have a Flock class or a
Bird class. There&rsquo;s usually not much point in making a class
unless you know it&rsquo;s going to have multiple copies or versions of an object type.</p>
<p>The first thing we&rsquo;ll do is write an <code>__init__</code> method to <em>initialize</em> an object using our class
definition.
This special double-underbar or &lsquo;dunder&rsquo; method will let us set default values for <em>attributes</em>.
I&rsquo;ve never seen a class without one. Usually, if you can&rsquo;t think
of anything to put in the <code>__init__</code> method, or you don&rsquo;t need
a set of methods attached to an object, those are hints that you might not need to make a class.</p>
<p>In this case, the <code>__init__</code> method can take inputs to define each of our different types of dessert.</p>
<p>The <em>self</em> argument is a reference that python uses to keep track of which
<em>instance</em> of the class we&rsquo;re talking about.
So each time we create a new Sweets object, it will have its own attributes,
which we refer to by using <em>self</em> within
the class methods. This will become clearer, hopefully, as we go along.
(Note: I found <em>self</em> rather clunky and confusing
when I first started learning this, so I&rsquo;ll do my best to clarify.)</p>
<p>Let&rsquo;s add some <em>attributes</em> into our <code>__init__</code>. Attributes are like adjectives,
since usually they&rsquo;re used to describe the class
or the instances in the class.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sweets</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, sweetness:str, crunchiness:str, stickiness:str):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>sweetness <span style="color:#f92672">=</span> sweetness
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>crunchiness <span style="color:#f92672">=</span> crunchiness
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>stickiness <span style="color:#f92672">=</span> stickiness
</span></span></code></pre></div><p>Here, I&rsquo;ve added some arguments into our <code>__init__</code> method. Note that I&rsquo;m using type hinting to indicate that they&rsquo;re
all strings (str). Then I convert those inputs into <em>attributes</em> by saving them onto <em>self</em> with names.
So here&rsquo;s how you use that:</p>
<p>First, I&rsquo;m going to <em>instantiate</em> (create) a baked_donut, which is an <em>instance</em> of the Sweets <em>class</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>baked_donut <span style="color:#f92672">=</span> Sweets(sweetness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;high&#39;</span>, crunchiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;low&#39;</span>, stickiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;low&#39;</span>)
</span></span></code></pre></div><p>Note that you don&rsquo;t have to add <code>self</code> when you create the object, the python runtime does that for you
automagically in the background.</p>
<p>Let&rsquo;s check that our baked_donut is the type we expect:</p>
<pre tabindex="0"><code>&gt; type(baked_donut)
__main__.Sweets

&gt; isinstance(baked_donut, Sweets)
True
</code></pre><p>And now let&rsquo;s check that our inputs were saved onto the baked_donut <em>instance</em> of the Sweets <em>class</em>.</p>
<pre tabindex="0"><code>&gt; baked_donut.sweetness
&#39;high&#39;
</code></pre><p>The advantage of doing it this way, is now we can create other dessert objects
with different attributes.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ginger_cookie <span style="color:#f92672">=</span> Sweets(sweetness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;medium&#39;</span>, crunchiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;high&#39;</span>, stickiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;low&#39;</span>)
</span></span></code></pre></div><p>And we can add methods onto the class, which all the instances can use.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Sweets</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, sweetness:str, crunchiness:str, stickiness:str):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>sweetness <span style="color:#f92672">=</span> sweetness
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>crunchiness <span style="color:#f92672">=</span> crunchiness
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>stickiness <span style="color:#f92672">=</span> stickiness
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">was_eaten</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span></code></pre></div><h1 id="more-specific-classes-inheritance">More specific classes: inheritance</h1>
<p>So now let&rsquo;s say we want to add a specific method onto only a subset of Sweets.
One way we can do that is by
inheriting from or <em>subclassing</em> Sweets.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cookie</span>(Sweets):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crumble</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p>So now the Cookie <em>class</em> inherits the <code>__init__</code> method and the <code>was_eaten()</code> method from the Sweets <em>class</em>. So Cookie can
use those methods, even though you don&rsquo;t see them here, and we don&rsquo;t have to write them out again.</p>
<p>And, we added a new method. We want our crumble method to reduce the size attribute down to 0. But what was it originally?</p>
<p>We want to add this new attribute, size, into the <code>__init__</code> method for Cookie that was not in Sweets.
We can just do that, and it would look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cookie</span>(Sweets):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, sweetness, crunchiness, stickiness):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crumble</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">==</span> <span style="color:#66d9ef">False</span>:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">==</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;It&#39;s gone!&#34;</span>)
</span></span></code></pre></div><p>But now, since we created a new <code>__init__</code> method, Cookie will run this local <code>__init__</code>,
and it will <em>not</em> run the <code>__init__</code> that was in Sweets.</p>
<p>With this version of the code, we can&rsquo;t use <code>sweetness</code>, <code>crunchiness</code>, <code>stickiness</code>, or <code>eaten</code>,
because this version of the Cookie class didn&rsquo;t initialize any of those attributes,
so it doesn&rsquo;t know what they are. This is not really the behavior we expected.</p>
<pre tabindex="0"><code>raw_cookie = Cookie(sweetness=&#39;high&#39;, crunchiness=&#39;low&#39;, stickiness=&#39;low&#39;)

&gt; raw_cookie.sweetness
AttributeError: &#39;Cookie&#39; object has no attribute &#39;sweetness&#39;
</code></pre><hr>
<h1 id="super-is-superior">Super() is superior</h1>
<p>What if we want to use all the attributes that are defined in the Sweets <code>__init__</code> method, AND add new attributes
specific to Cookie?</p>
<p>To do that, we use <code>super()</code>.</p>
<p>Super refers to the <em>parent</em> or <em>base</em> class that we&rsquo;re inheriting from.</p>
<p>In this case, we&rsquo;re going to run the parent (Sweets)
<code>__init__</code> method first, and then add the size attribute.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cookie</span>(Sweets):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, sweetness, crunchiness, stickiness):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span><span style="color:#a6e22e">__init__</span>(sweetness, crunchiness, stickiness)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crumble</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">==</span> <span style="color:#66d9ef">False</span>:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">==</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;It&#39;s gone!&#34;</span>)
</span></span></code></pre></div><p>This part is a little confusing sometimes, so I want to break it down a little more.</p>
<p>The arguments being passed into the Cookie <code>__init__</code> method are the inputs you&rsquo;re entering.</p>
<p>Then we pass them to the <code>__init__</code> method that was inherited from the Sweets class,
which is why we have to list them again. We don&rsquo;t have to list self again.</p>
<p>To use this with inputs, we instantiate a new cookie object:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#f92672">=</span> Cookie(sweetness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;high&#39;</span>, crunchiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;high&#39;</span>, stickiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;low&#39;</span>)
</span></span></code></pre></div><p>And then we can check that both our inherited attributes and methods,
as well as our new attributes and methods, are all there on our new object:</p>
<pre tabindex="0"><code>&gt; c.size
10

&gt; c.sweetness
&#39;high&#39;

&gt; c.was_eaten()
True

&gt; c.crumble()
&#34;It&#39;s gone!&#34;
</code></pre><h1 id="multiple-inheritance">Multiple inheritance</h1>
<p>Multiple inheritance happens if you want to inherit from more than one parent class. The only time this really makes
sense is if the two classes provide very different functionality. So here&rsquo;s an example where it could be useful:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Box</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>side <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Chassis</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>wheels <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ModelTrain</span>(Box, Chassis):
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self):
</span></span><span style="display:flex;"><span>        super(ModelTrain, self)<span style="color:#f92672">.</span><span style="color:#a6e22e">__init__</span>()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">blow_horn</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;choo choo!&#39;</span>)
</span></span></code></pre></div><p>Note that I did it this way to make sure the <code>__init__</code> methods get called for both of the parent classes,
as described in more detail <a href="https://stackoverflow.com/questions/3277367/how-does-pythons-super-work-with-multiple-inheritance">in the answers to this StackOverflow question</a>.</p>
<p>Having said that, if you&rsquo;re considering using multiple inheritance, be very careful. Here&rsquo;s my advice on that:</p>
<ol>
<li><strong>Avoid it.</strong><br>
Multiple inheritance gets messy and confusing.<br>
If you need to do it, think hard about changing your design.</li>
<li><strong>Unique names are helpful.</strong><br>
If you still think it makes sense, or you have to use someone else&rsquo;s code and you can&rsquo;t change it,
at least try to name your methods differently in the parent and children classes, if you can.<br>
Obviously, you can&rsquo;t do this with <code>__init__</code>, which is why you have to know about how <code>super()</code> works.</li>
<li><strong>If you can&rsquo;t avoid it, remember the MRO: method resolution order.</strong><br>
If you have methods with the same name in your class and in one or more parent classes,
the local one is used first, and then the parent.<br>
Beyond that, I recommend trying to check the MRO
using the  <code>.__mro__</code> attribute, as described <a href="https://www.programiz.com/python-programming/methods/built-in/super">elsewhere</a>.</li>
</ol>
<h1 id="composition">Composition</h1>
<p>Composition is another term you&rsquo;ll hear, as in &lsquo;composition is better than inheritance&rsquo;. Composition just means
that one object or class knows about another one, but doesn&rsquo;t inherit from it.</p>
<p>Here&rsquo;s a very simplified example of the type of design I&rsquo;ve used a lot for data engineering:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DataCleaner</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, inputdata):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>raw <span style="color:#f92672">=</span> inputdata
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>cleanup_method()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fill_null_integers</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Helper method  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#todo: fill missing integers with 0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fill_empty_strings</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Helper method
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#todo: fill missing strings with &#34;None&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">remove_bad_characters</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Helper method
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#todo: replace &#39;-&#39; with &#39;_&#39;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cleanup_method</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>fill_nulls()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>fill_empty_strings()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>remove_bad_characters()
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> dataframe
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DataPipeline</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, inputdata):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>inputdata <span style="color:#f92672">=</span> inputdata
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">first_step</span>(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>dataframe <span style="color:#f92672">=</span> DataCleaner(self<span style="color:#f92672">.</span>inputdata)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">second_step</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#todo: reshape</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">third_step</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#todo: flatten, etc. </span>
</span></span><span style="display:flex;"><span> 
</span></span></code></pre></div><p>So in this case, DataPipeline uses the DataCleaner class as a way to <em>encapsulate</em> some code and pass it around in a more
readable way. It also makes it easier to reuse the DataCleaner class, as well as making it easier to
write and run tests for the DataCleaner class separately from the DataPipeline class.</p>
<p>In this case, composition is arguably
better than inheritance. The DataPipeline class doesn&rsquo;t need to use what&rsquo;s in the DataCleaner class, it just has to
be able to use the output of DataCleaner.cleanup_method().</p>
<h1 id="sometimes-inheritance-is-actually-simpler-than-composition">Sometimes, inheritance is actually simpler than composition.</h1>
<p>Here&rsquo;s our Cookie example again,
but this time with composition instead of inheritance, so we don&rsquo;t have worry about using super() at all, which
seems simpler at first:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cookie</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, sweetness, crunchiness, stickiness):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>description <span style="color:#f92672">=</span> Sweets(sweetness, crunchiness, stickiness)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">crumble</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">==</span> <span style="color:#66d9ef">False</span>:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> self<span style="color:#f92672">.</span>eaten <span style="color:#f92672">==</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;It&#39;s gone!&#34;</span>)
</span></span></code></pre></div><p>But now when we want to access the attributes that came from Sweets, we have to do it via self.description,
which gets kind of confusing, since we have to keep track of what&rsquo;s in there vs. what isn&rsquo;t:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>composed_cookie <span style="color:#f92672">=</span> Cookie(sweetness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;high&#39;</span>, crunchiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;low&#39;</span>, stickiness<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;low&#39;</span>)
</span></span></code></pre></div><pre tabindex="0"><code>&gt; composed_cookie.description.sweetness
&#39;high&#39;
</code></pre><hr>
<p>This is a big topic, so I&rsquo;m just going to stop there for now. This is enough to get you started, at least.
Future posts may include discussion on abstract base classes, metaclasses, mixins, etc. if that seems useful.</p>
<p>Special thanks to Danek Duvall, Tom Marthal, and Jeremy Abramson for suggested clarifications on this post.</p>
<hr>
<p>Here are a couple of other references that might help you as you start to use classes in python:</p>
<p><a href="https://www.thedigitalcatonline.com/blog/2014/08/20/python-3-oop-part-3-delegation-composition-and-inheritance/">one</a>
<a href="https://codefellows.github.io/sea-python-401d4/lectures/inheritance_v_composition.html">two</a></p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="https://szeitlin.github.io/" >
    &copy; 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
